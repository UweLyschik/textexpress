{"version":3,"file":"addon.js","sources":["../addon/src/services/google.ui.js","../addon/src/utils/utils.html.js","../addon/src/platforms/docs/sidebar/sidebar.start.js","../addon/src/platforms/docs/sidebar/sidebar.index.js","../addon/src/platforms/docs.js","../addon/src/addon.js"],"sourcesContent":["//-------------------------------------------------------------------\r\n//--- UIService\r\n//-------------------------------------------------------------------\r\nexport const UIService = {\r\n\r\n    //----------------------------------------------------\r\n    //--- showDialog()\r\n    //----------------------------------------------------\r\n    showDialog(title, tmpl, width, height) {\r\n        return new Promise((resolve, reject) => {\r\n            google.script.run\r\n                .withSuccessHandler(resolve)\r\n                .withFailureHandler(reject)\r\n                .UIService_showDialog(title, tmpl, width, height);\r\n        });\r\n    },\r\n\r\n    //----------------------------------------------------\r\n    //--- showSidebar()\r\n    //----------------------------------------------------\r\n    showSidebar(title, tmpl, width) {\r\n        return new Promise((resolve, reject) => {\r\n        google.script.run\r\n            .withSuccessHandler(resolve)\r\n            .withFailureHandler(reject)\r\n            .UIService_showSidebar(title, tmpl, width);\r\n        });\r\n    }\r\n}","//-------------------------------------------------------------------\r\n//--- collectRefs()\r\n//-------------------------------------------------------------------\r\nexport function collectRefs(root = document) {\r\n    const refs = {};\r\n    root.querySelectorAll(\"[data-ref]\").forEach(el => {\r\n        const name = el.dataset.ref.trim();\r\n        if (name) refs[name] = el;\r\n    });\r\n    return refs;\r\n}\r\n\r\n//-------------------------------------------------------------------\r\n//--- escapeHtml()\r\n//-------------------------------------------------------------------\r\nexport function escapeHtml(s = '') {\r\n    return String(s)\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#39;');\r\n}","import {UIService} from '../../../services/google.ui.js';\r\nimport {collectRefs} from '../../../utils/utils.html.js';\r\n\r\nexport const SidebarStart = {\r\n\r\n    //-------------------------------------------------------------------\r\n    //--- init()\r\n    //-------------------------------------------------------------------\r\n    init() {\r\n        this.page = document.querySelector('[data-page=\"start\"]');        \r\n        this.page.addEventListener('click', this.handleClick.bind(this));\r\n        this.refs = collectRefs(this.page);\r\n    },\r\n\r\n    //-------------------------------------------------------------------\r\n    //--- handleClick()\r\n    //-------------------------------------------------------------------\r\n    handleClick(e) {\r\n        const action = e.target.closest('[data-action]')?.dataset.action;\r\n        if (!action) return;\r\n        this.runAction(action);\r\n    },\r\n\r\n    //-------------------------------------------------------------------\r\n    //--- runAction()\r\n    //-------------------------------------------------------------------\r\n    runAction(action) {\r\n        const map = {\r\n            'file-create': () => console.log('file-create'),\r\n            'file-open': () => this.showDialog()\r\n        };\r\n        map[action]?.();\r\n    },\r\n\r\n    showDialog() {\r\n        UIService.showDialog('Datei wÃ¤hlen', 'addon-file-picker', 700, 400);\r\n    }\r\n}","import {collectRefs} from '../../../utils/utils.html.js';\r\n\r\nexport const SidebarIndex = {\r\n\r\n    //-------------------------------------------------------------------\r\n    //--- init()\r\n    //-------------------------------------------------------------------\r\n    init() {\r\n        this.page = document.querySelector('[data-page=\"index\"]');\r\n        this.page.addEventListener('click', this.handleClick.bind(this));\r\n        this.refs = collectRefs(this.page);\r\n    },\r\n\r\n    //-------------------------------------------------------------------\r\n    //--- handleClick()\r\n    //-------------------------------------------------------------------\r\n    handleClick(e) {\r\n        const action = e.target.closest('[data-action]')?.dataset.action;\r\n        if (!action) return;\r\n        this.runAction(action);\r\n    },\r\n\r\n    //-------------------------------------------------------------------\r\n    //--- runAction()\r\n    //-------------------------------------------------------------------\r\n    runAction(action) {\r\n        const map = {\r\n            'add-snippet': () => console.log('add-snippet')\r\n        };\r\n        map[action]?.();\r\n    }\r\n}","// import {registerPlaceholders} from '../utils/ph/register.js';\r\n// import {PanelSnippets}        from './panels/panel.snippets.js';\r\n// import {PanelDataSource}      from './panels/panel.datasource.js';\r\n// import {DrawerManager}        from './drawers/drawers.js';\r\n// import {DrawerReplace}        from './drawers/drawer.replace.js';\r\n// import {DrawerInsert}         from './drawers/drawer.insert.js';\r\n// import {DrawerPlaceholder}    from './drawers/drawer.placeholder.js';\r\n\r\nimport {SidebarStart} from './docs/sidebar/sidebar.start.js';\r\nimport {SidebarIndex} from './docs/sidebar/sidebar.index.js';\r\n\r\nexport const UIDocs = {\r\n    init() {\r\n        const sidebarPage = document.body.dataset.page;\r\n        console.log('Page:', sidebarPage);\r\n\r\n        switch (sidebarPage) {\r\n            case 'start':\r\n                SidebarStart.init();\r\n                break;\r\n            case 'index':\r\n                SidebarIndex.init();\r\n                break;\r\n        }\r\n    }\r\n};","import {UIDocs} from './platforms/docs.js';\r\nimport {UIWeb}  from './platforms/web.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    \r\n    const platform = document.body.dataset.platform;\r\n    console.log('Platform:', platform);\r\n\r\n    switch (platform) {\r\n        case 'docs':\r\n            UIDocs.init();\r\n            break;\r\n        case 'web':\r\n            UIWeb.init();\r\n            break;\r\n    }\r\n});"],"names":[],"mappings":"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"}